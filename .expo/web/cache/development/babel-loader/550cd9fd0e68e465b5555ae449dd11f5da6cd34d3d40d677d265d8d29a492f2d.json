{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport PropTypes from 'prop-types';\nimport React, { useRef } from 'react';\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { MIN_COMPOSER_HEIGHT, DEFAULT_PLACEHOLDER } from \"./Constant\";\nimport Color from \"./Color\";\nimport { StylePropType } from \"./utils\";\nimport { useCallbackOne } from 'use-memo-one';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar styles = StyleSheet.create({\n  textInput: _objectSpread(_objectSpread({\n    flex: 1,\n    marginLeft: 10,\n    fontSize: 16,\n    lineHeight: 16\n  }, Platform.select({\n    web: {\n      paddingTop: 6,\n      paddingLeft: 4\n    }\n  })), {}, {\n    marginTop: Platform.select({\n      ios: 6,\n      android: 0,\n      web: 6\n    }),\n    marginBottom: Platform.select({\n      ios: 5,\n      android: 3,\n      web: 4\n    })\n  })\n});\nexport function Composer(_ref) {\n  var _ref$composerHeight = _ref.composerHeight,\n    composerHeight = _ref$composerHeight === void 0 ? MIN_COMPOSER_HEIGHT : _ref$composerHeight,\n    _ref$disableComposer = _ref.disableComposer,\n    disableComposer = _ref$disableComposer === void 0 ? false : _ref$disableComposer,\n    _ref$keyboardAppearan = _ref.keyboardAppearance,\n    keyboardAppearance = _ref$keyboardAppearan === void 0 ? 'default' : _ref$keyboardAppearan,\n    _ref$multiline = _ref.multiline,\n    multiline = _ref$multiline === void 0 ? true : _ref$multiline,\n    _ref$onInputSizeChang = _ref.onInputSizeChanged,\n    onInputSizeChanged = _ref$onInputSizeChang === void 0 ? function () {} : _ref$onInputSizeChang,\n    _ref$onTextChanged = _ref.onTextChanged,\n    onTextChanged = _ref$onTextChanged === void 0 ? function () {} : _ref$onTextChanged,\n    _ref$placeholder = _ref.placeholder,\n    placeholder = _ref$placeholder === void 0 ? DEFAULT_PLACEHOLDER : _ref$placeholder,\n    _ref$placeholderTextC = _ref.placeholderTextColor,\n    placeholderTextColor = _ref$placeholderTextC === void 0 ? Color.defaultColor : _ref$placeholderTextC,\n    _ref$text = _ref.text,\n    text = _ref$text === void 0 ? '' : _ref$text,\n    _ref$textInputAutoFoc = _ref.textInputAutoFocus,\n    textInputAutoFocus = _ref$textInputAutoFoc === void 0 ? false : _ref$textInputAutoFoc,\n    _ref$textInputProps = _ref.textInputProps,\n    textInputProps = _ref$textInputProps === void 0 ? {} : _ref$textInputProps,\n    textInputStyle = _ref.textInputStyle;\n  var dimensionsRef = useRef();\n  var determineInputSizeChange = useCallbackOne(function (dimensions) {\n    if (!dimensions) {\n      return;\n    }\n    if (!dimensionsRef || !dimensionsRef.current || dimensionsRef.current && (dimensionsRef.current.width !== dimensions.width || dimensionsRef.current.height !== dimensions.height)) {\n      dimensionsRef.current = dimensions;\n      onInputSizeChanged(dimensions);\n    }\n  }, [onInputSizeChanged]);\n  var handleContentSizeChange = function handleContentSizeChange(_ref2) {\n    var contentSize = _ref2.nativeEvent.contentSize;\n    return determineInputSizeChange(contentSize);\n  };\n  return _jsx(TextInput, _objectSpread({\n    testID: placeholder,\n    accessible: true,\n    accessibilityLabel: placeholder,\n    placeholder: placeholder,\n    placeholderTextColor: placeholderTextColor,\n    multiline: multiline,\n    editable: !disableComposer,\n    onContentSizeChange: handleContentSizeChange,\n    onChangeText: onTextChanged,\n    style: [styles.textInput, textInputStyle, _objectSpread({\n      height: composerHeight\n    }, Platform.select({\n      web: {\n        outlineWidth: 0,\n        outlineColor: 'transparent',\n        outlineOffset: 0\n      }\n    }))],\n    autoFocus: textInputAutoFocus,\n    value: text,\n    enablesReturnKeyAutomatically: true,\n    underlineColorAndroid: \"transparent\",\n    keyboardAppearance: keyboardAppearance\n  }, textInputProps));\n}\nComposer.propTypes = {\n  composerHeight: PropTypes.number,\n  text: PropTypes.string,\n  placeholder: PropTypes.string,\n  placeholderTextColor: PropTypes.string,\n  textInputProps: PropTypes.object,\n  onTextChanged: PropTypes.func,\n  onInputSizeChanged: PropTypes.func,\n  multiline: PropTypes.bool,\n  disableComposer: PropTypes.bool,\n  textInputStyle: StylePropType,\n  textInputAutoFocus: PropTypes.bool,\n  keyboardAppearance: PropTypes.string\n};","map":{"version":3,"names":["PropTypes","React","useRef","Platform","StyleSheet","TextInput","MIN_COMPOSER_HEIGHT","DEFAULT_PLACEHOLDER","Color","StylePropType","useCallbackOne","jsx","_jsx","styles","create","textInput","_objectSpread","flex","marginLeft","fontSize","lineHeight","select","web","paddingTop","paddingLeft","marginTop","ios","android","marginBottom","Composer","_ref","_ref$composerHeight","composerHeight","_ref$disableComposer","disableComposer","_ref$keyboardAppearan","keyboardAppearance","_ref$multiline","multiline","_ref$onInputSizeChang","onInputSizeChanged","_ref$onTextChanged","onTextChanged","_ref$placeholder","placeholder","_ref$placeholderTextC","placeholderTextColor","defaultColor","_ref$text","text","_ref$textInputAutoFoc","textInputAutoFocus","_ref$textInputProps","textInputProps","textInputStyle","dimensionsRef","determineInputSizeChange","dimensions","current","width","height","handleContentSizeChange","_ref2","contentSize","nativeEvent","testID","accessible","accessibilityLabel","editable","onContentSizeChange","onChangeText","style","outlineWidth","outlineColor","outlineOffset","autoFocus","value","enablesReturnKeyAutomatically","underlineColorAndroid","propTypes","number","string","object","func","bool"],"sources":["../src/Composer.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}